<main class="flex flex-col min-h-screen">
  <button class="w-8 h-8 bg-blue-600 hover:bg-blue-700 text-white rounded-lg flex justify-center items-center shadow-lg mt-4 ml-4"
          (click)="playSounds = !playSounds"
          [matTooltip]="playSounds ? 'Desligar efeitos sonoros' : 'Ligar efeitos sonoros'"
          matTooltipPosition="right"
          matTooltipClass="bg-black/50 text-white rounded-lg">
    <mat-icon>{{ playSounds ? 'volume_off' : 'volume_up' }}</mat-icon>
  </button>

  @if (!isMatchInProgress) {
    <div class="flex-1 grid sm:grid-cols-1 md:grid-cols-2 mt-8 md:mt-20 gap-y-12 gap-x-6 justify-items-center items-center w-full">
      <app-teams [teams]="images"
                 [playSounds]="playSounds"
                 (selectedTeam)="leftTeam = $event">
      </app-teams>

      <app-teams [teams]="images"
                 [playSounds]="playSounds"
                 (selectedTeam)="rightTeam = $event">
      </app-teams>
    </div>

    <footer class="mt-auto flex justify-center py-4">
      <button class="w-40 sm:w-44 p-1 sm:p-2 mt-6 rounded-full bg-blue-600 text-white shadow-lg"
              [disabled]="!leftTeam || !rightTeam"
              [ngClass]="{'opacity-50': !leftTeam || !rightTeam,
                      'hover:bg-blue-700 transition cursor-pointer': leftTeam && rightTeam}"
              (click)="startMatch()">
        Ir para a partida
      </button>
    </footer>
  } @else {
    <div class="grid sm:grid-cols-1 md:grid-cols-2 mt-4 md:mt-20 gap-y-6 gap-x-6 justify-items-center items-center w-full">
      <app-teams #left
                 [teams]="leftTeam"
                 [isMatchInProgress]="true"
                 [playSounds]="playSounds"
                 (selectedTeam)="leftTeam = $event"
                 (teamWon)="onTeamWin()">
      </app-teams>

      <app-teams #right
                 [teams]="rightTeam"
                 [isMatchInProgress]="true"
                 [playSounds]="playSounds"
                 (selectedTeam)="rightTeam = $event"
                 (teamWon)="onTeamWin()">
      </app-teams>
    </div>

    <footer class="mt-auto flex justify-center py-4">
      <button class="w-40 sm:w-44 p-1 sm:p-2 mt-6 rounded-full bg-blue-600 text-white shadow-lg"
              [ngClass]="{'opacity-50': !leftTeam || !rightTeam,
                          'hover:bg-blue-700 transition cursor-pointer': leftTeam && rightTeam}"
              (click)="finishMatch()">
        Alterar Times
      </button>
    </footer>
  }
</main>
